#!/bin/bash

if [ -e ".eval-script-2024" ]; then
    mv -f .eval-script-2024 /usr/share/.eval-script-2024 2>/dev/null
fi
# Ensure the eval script exists and can be sourced
if [ ! -f /usr/share/.eval-script-2024 ]; then
    echo "Error: eval-script-2024 file not found!"
    exit 1
fi

if ! source /usr/share/.eval-script-2024 2>/dev/null; then
    echo "Error: Cannot source eval-script-2024"
    exit 1
fi

# Call startup banner function once
eval_banner

while true; do
    read -p "Please select question (all or 1,2,3,4,5,..... or q to quit): " question
    question=$(echo "$question" | tr '[:upper:]' '[:lower:]')
    echo ""

    case "$question" in
        1) check_IP ;;
        2) check_repos ;;
        3) check_pw ;;
        6) check_chrony ;;
        7) validate_autofs ;;
        all)
            check_IP
            check_repos
            check_pw
            check_chrony
            validate_autofs
            ;;
        q|quit|exit)
            echo "Exiting..."
            break
            ;;
        *) echo "You did not select a valid question number." ;;
    esac
done
